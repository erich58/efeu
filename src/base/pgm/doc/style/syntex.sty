%	Stilfile für Synthesis - Layout
%	(c) 1991, 1995 Erich Frühstück
%	A-1090 Wien, Währinger Straße 64/6
%	und Christoph Urbanek (1995)
%	A-1020 Wien, Scholzgasse 16/4

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{syntex}[1999/10/27 `SynTeX' Version 3.0]

\newcount\Syn@ntitlepage
\Syn@ntitlepage=1
\DeclareOption{notitlepage}{\Syn@ntitlepage=0}
\DeclareOption{onetitlepage}{\Syn@ntitlepage=1}
\DeclareOption{twotitlepage}{\Syn@ntitlepage=2}

\newif\ifSyn@globaltabnum
\Syn@globaltabnumfalse
\DeclareOption{globaltabnum}{\Syn@globaltabnumtrue}
\DeclareOption{localtabnum}{\Syn@globaltabnumfalse}

\newif\ifSyn@toctabentry
\newif\ifSyn@sectabentry
\Syn@toctabentrytrue
\Syn@sectabentrytrue
\DeclareOption{toctabentry}{\Syn@toctabentrytrue\Syn@sectabentrytrue}
\DeclareOption{sectabentry}{\Syn@toctabentryfalse\Syn@sectabentrytrue}
\DeclareOption{notabentry}{\Syn@toctabentryfalse\Syn@sectabentryfalse}

\newif\ifchapterpage
\newif\ifsectionpage
\chapterpagetrue
\sectionpagefalse
\DeclareOption{chapterpage}{\chapterpagetrue\sectionpagefalse}
\DeclareOption{sectionpage}{\chapterpagetrue\sectionpagetrue}
\DeclareOption{nochapterpage}{\chapterpagefalse\sectionpagefalse}

\ExecuteOptions{onetitlepage,localtabnum,toctabentry,chapterpage}
\ProcessOptions

% Zusatzpakete

\usepackage[latin1]{inputenc}
\usepackage{german}
\dateaustrian
\usepackage{textcomp}
\usepackage{verbatim}

\usepackage{graphicx}
\usepackage[dvips,usenames]{color}
\usepackage[german]{varioref}
\usepackage{makeidx}
\input{schuster.sty}
\emergencystretch=10pt
\makeindex

%	Layoutparameter

%\newcount\Syn@Zeilen

\newdimen\Syn@vunit
\newdimen\Syn@hunit
\newdimen\Syn@RasterZelle

\def\Syn@Mitte{6}
\def\Syn@Zeilen{47}
\def\Syn@Spalten{14}

\Syn@vunit=4.5mm
\Syn@hunit=4.0mm
\Syn@RasterZelle=3\Syn@hunit

% ###########   vertikale Seitenabmessung   ###########

\voffset=-1in
\advance\voffset by 1mm
\topmargin=10mm
\headheight=\Syn@vunit
\topskip=2\Syn@vunit	% Platz für 20pt Schrift schaffen
\headsep=50mm
\advance\headsep by -\headheight
\advance\headsep by -\topskip
\textheight=\Syn@Zeilen\Syn@vunit	% Justierung der Texthöhe
\advance\textheight by \Syn@vunit
\footskip=3\Syn@vunit
%\if@compatibility
%\else
%	\newdimen\footheight
%\fi
%\footheight=\Syn@vunit
\marginparpush=\Syn@vunit
\reversemarginpar

% ###########   horizontale Seitenabmessung   ###########

\hoffset=-1in				% Justierung des linken Randes
\advance\hoffset by 23mm
\textwidth=\Syn@Spalten\Syn@RasterZelle	% Justierung der Textbreite
	\advance \textwidth by -\Syn@hunit
%\evensidemargin=23mm
\evensidemargin=0pt

% ###########   Fontgrößen   ###########

\input{lightfrut.sty}
\input{syntex.1\@ptsize pt}

%	Sonderzeichen

%\def\copyright{{\ooalign{\hfil\raise.07ex\hbox{c}\hfil\crcr\mathhexbox20D}}}
\def\copyright{{\ooalign{\hfil\hbox{\tt c}\hfil\crcr\mathhexbox20D}}}
\newcommand\euro{{\sffamily C%
  \makebox[0pt][l]{\kern-.70em\mbox{--}}%
    \makebox[0pt][l]{\kern-.68em\raisebox{.25ex}{--}}}}


%	Einrückung

\def\indent{\hspace*{2\Syn@hunit}}

%	Zeichenvorschub

\def\normalspacing{\spaceskip\z@\relax}
\def\fixedspacing{\spaceskip\fontdimen2\the\font\relax}
\fixedspacing

%	Schriftattribute

\let\Syn@tt=\tt
\let\Syn@it=\it
\let\Syn@bf=\bf
\let\Syn@rm=\rm
\def\tt{\Syn@tt\protect\fixedspacing}
\def\it{\Syn@it\protect\fixedspacing}
\def\bf{\Syn@bf\protect\fixedspacing}
\def\rm{\Syn@rm\protect\fixedspacing}
\def\verbatim@font{\normalfont\ttfamily\fixedspacing}

%	Schriftgröße

\newif\ifSyn@footnote
\Syn@footnotefalse

\let\Syn@huge=\huge
\let\Syn@normalsize=\normalsize
\let\Syn@footnotesize=\footnotesize
\def\huge{\Syn@footnotefalse\Syn@huge\protect\fixedspacing}
\def\normalsize{\Syn@footnotefalse\Syn@normalsize\protect\fixedspacing}
\def\footnotesize{\Syn@footnotetrue\Syn@footnotesize\protect\fixedspacing}

% ###########   Formelsatz   ###########

%\input{leqno.clo}
\input{fleqn.clo}
\mathindent2\Syn@hunit

% ###########   Randnotizen   ###########

\marginparwidth=6\Syn@RasterZelle
\marginparsep=\Syn@hunit
\advance \marginparwidth by -\marginparsep

\setcounter{secnumdepth}{1}

\def\FlatterRand#1#2{\rightskip \z@ plus #1\Syn@RasterZelle minus #2\Syn@RasterZelle}
\rightskip \z@ plus 2\Syn@RasterZelle minus 0.5\Syn@RasterZelle
%\hyphenpenalty=5000
%\finalhyphendemerits=7500

\newdimen\Syn@TempDim
\newdimen\Syn@TempDimA
\newsavebox{\Syn@TempBox}

%	Seitenrand und Textbreite setzen

\def\Spaltenbreite#1#2{#1=#2\Syn@RasterZelle
	\advance#1 by -\Syn@hunit}

\def\SetMargin#1{%
	\evensidemargin=#1\Syn@RasterZelle
	\oddsidemargin=\evensidemargin
	\Spaltenbreite\textwidth\Syn@Spalten
	\columnwidth\textwidth
	\advance\textwidth by -\evensidemargin
	\onecolumn}

\fboxrule=0.415pt
\def\Syn@ThickLine{2\fboxrule}
\def\Syn@ThinLine{\fboxrule}

\def\Syn@Balken#1#2{\vbox to 0pt{\vss\hbox to 0pt{%
	\raise3.5mm\vbox{\hrule height #2 width #1}\hss}}}

\SetMargin{6}

% ###########   Layoutparameter   ###########

\pagenumbering{arabic}

\lineskip=0pt
\parskip=\Syn@vunit
\baselineskip=\Syn@vunit

\parindent=0em
\frenchspacing

\abovedisplayskip \Syn@vunit
\belowdisplayskip \abovedisplayskip
\abovedisplayshortskip \z@
\belowdisplayshortskip \abovedisplayshortskip

% ###########   Fußnotenmarkierung   ###########


\def\fn#1{\ifSyn@footnote
		\makebox[4mm][l]{%
			\ifnum #1>0
				$^{\hbox{\tiny #1}}$%
			\else
				$^*$%
			\fi
		\hfill}\ignorespaces
	\else
		\ifnum #1>0
			$^{\hbox{\scriptsize #1}}$%
		\else
			$^*$%
		\fi
	\fi}

% ###########   Listen   ###########

\leftmargini=2\Syn@hunit
\leftmarginii=2\Syn@hunit
\leftmarginiii=2\Syn@hunit
\leftmarginiv=2\Syn@hunit
\leftmarginv=2\Syn@hunit
\leftmarginvi=2\Syn@hunit

\def\labelitemi{\hbox to \labelwidth{$\m@th\bullet$\hss}}
\def\labelitemii{\hbox to \labelwidth{\normalfont\bfseries --\hss}}
\def\labelitemiii{\hbox to \labelwidth{$\m@th\ast$\hss}}
\def\labelitemiv{\hbox to \labelwidth{$\m@th\cdot$\hss}}

\def\labelenumi{\hbox to \labelwidth{\theenumi.\hss}}
\def\labelenumii{\hbox to \labelwidth{(\theenumii)\hss}}
\def\labelenumiii{\hbox to \labelwidth{\theenumiii.\hss}}
\def\labelenumiv{\hbox to \labelwidth{\theenumiv.\hss}}

\newdimen\Syn@LabelSep
\newdimen\Syn@textwidth
\settowidth{\Syn@LabelSep}{\fixedspacing ~~}%
\Syn@textwidth=\textwidth

\@rightskip\z@ plus 3\Syn@RasterZelle	% Standardsetzung des rechten Randes in Listen

\def\Syn@SetList#1{%
	\parskip \Syn@vunit%
	\topsep -\Syn@vunit%
	\partopsep \Syn@vunit%
	\parsep \Syn@vunit%
	\itemsep -\Syn@vunit%
	\let\Syn@item\item
	\leftmargin#1
	\labelsep\Syn@LabelSep
	\labelwidth\leftmargin
	\advance\labelwidth-\labelsep
}

%	Abstandskorrektur bei Listen

\def\@endparenv{\addpenalty\@endparpenalty\@endpetrue}

\def\@listi{\Syn@SetList{\leftmargini}}
\def\@listii{\Syn@SetList{\leftmarginii}}
\def\@listiii{\Syn@SetList{\leftmarginiii}}
\def\@listiv{\Syn@SetList{\leftmarginiv}}
\def\@listv{\Syn@SetList{\leftmarginv}}
\def\@listvi{\Syn@SetList{\leftmarginvi}}

%	Beschreibungen

\renewcommand{\descriptionlabel}[1]{%
	\savebox{\Syn@TempBox}{\normalfont\bfseries #1\hskip\Syn@LabelSep}%
	\Syn@TempDim\leftmargin
	\ifdim\wd\Syn@TempBox > \leftmargin
		\parbox[b]{\Syn@textwidth}{\normalfont\bfseries #1}%
	\else
		\makebox[\leftmargin][l]{\usebox{\Syn@TempBox}}%
	\fi
	\ignorespaces}

\renewenvironment{description}[1][2]%
	{\list{}{\labelwidth\z@\labelsep\z@
		\leftmargin#1\Syn@hunit
		\itemindent-\leftmargin
		\let\makelabel\descriptionlabel}}
	{\endlist}

%	Liste mit einzelnem Eintrag

%\newcommand{\setitem}[1]{%
%	\def\item{\@ifnextchar[{\Syn@item[#1]}\Syn@item}}
\newcommand{\setitem}[1]{\def\item[##1]{\Syn@item[#1]}}

\newcommand{\trivitem}[2][$\bullet$]{%
	\begin{list}{}{\parskip\z@
		\topsep\z@
		\parsep\baselineskip}%
	\item[#1\hfill]#2%
	\end{list}\vskip-\baselineskip\leavevmode\ignorespaces}

%	Befehlszeilen

\newenvironment{CmdLines}{\bgroup\tt\ignorespaces}{\egroup}

%	Hängender Absatz

%\def\hangpar{\hangindent=2\Syn@hunit\hangafter=1\par\ignorespaces}

\newenvironment{hangpar}%
	{\strut\vspace{-\Syn@vunit}\list{}{\labelwidth\z@\labelsep\z@
		\itemindent-\leftmargin
		\listparindent-\leftmargin
		}%
	\item}%
	{\endlist}

% ###########   Randnotizen   ###########

\def\TopMargin#1{\leavevmode\hbox to 0pt {%
	\vbox to 0pt {\raggedright\vss#1\\~}\hss}\ignorespaces}

\long\def\Syn@Randnotiz#1#2#3{\leavevmode
	\hbox to 0pt {\hss \vtop to \z@ {%
	\hsize=3\Syn@RasterZelle
	\advance\hsize by -\Syn@hunit
	\strut\vskip-2\baselineskip
	\vskip#2\baselineskip
	\rightskip \z@ plus 2\Syn@RasterZelle minus 0.5\Syn@hunit
	#3\par\vss
	}\hskip\Syn@hunit
	\hskip#1\Syn@RasterZelle}%
	\ignorespaces}

%\def\Margin#1{\leavevmode\marginpar{\footnotesize\bf
%	\rightskip \z@ plus \Syn@RasterZelle
%	\baselineskip\Syn@vunit #1}%
%\ignorespaces}

\newcommand{\Randnotiz}[2][0]{\Syn@Randnotiz{0}{#1}{\footnotesize\bf#2}}
\newcommand{\Zitat}[2][0]{\Syn@Randnotiz{3}{#1}{\footnotesize#2}}

% ###########   Umgebung mit neuer Randbestimmung ###########

\newenvironment{Teilseite}[2][6]{%
	\begin{list}{\strut}{%
		\leftmargin=#1\Syn@RasterZelle
		\advance\leftmargin by -\evensidemargin
		\Syn@textwidth=\textwidth
		\advance\Syn@textwidth by -\leftmargin
		#2}%
	\item\relax%
	}{\end{list}}


% ###########   Inhaltsverzeichnis   ###########

%	Damit Inhaltsverzeichnisse mehr als einmal eingebunden
%	werden können, wird anstelle des Makros \@starttoc
%	das Inhaltsverzeichnis nur mit \@input geladen.
%	Der Befehl \Syn@maketoc (Makro \@starttoc ohne \@input)
%	muß am Ende des Dokuments aufgerufen werden (Erfolgt
%	automatisch durch den Macro \AtEndDocument).

\def\Syn@maketoc#1{\if@filesw
	\expandafter\newwrite\csname tf@#1\endcsname
	\immediate\openout \csname tf@#1\endcsname \jobname.#1\relax
	\fi}

\AtEndDocument{\Syn@maketoc{toc}\Syn@maketoc{lot}}
%\AtEndDocument{\Syn@maketoc{toc}}

%	Makros für Zeilen- und Seitenumbruch im Inhaltsverzeichnis.

\let\newtocline\space		% wird bei Bedarf in \\ umdefiniert
\let\headlinebreak\space	% wird bei Bedarf in \\ umdefiniert

\def\Syn@addcontentsline#1#2#3{{%
	\let\newtocline\\%
	\let\newline\\%
	\def\\{\protect\headlinebreak}%
	\def\fn##1{}%
	\addcontentsline{#1}{#2}{#3}}\ignorespaces}

\def\Syn@numcontentsline#1#2#3#4{%
	\if@appendix
%		\Syn@addcontentsline{#1}{#2}{\protect\numberline{#3}#4}%
		\Syn@addcontentsline{#1}{#2}{#4}%
	\else
		\Syn@addcontentsline{#1}{#2}{\protect\numberline{#3}#4}%
	\fi
	}

\def\tocspecial#1{\addcontentsline{toc}{special}{#1}}
\def\lotspecial#1{\addcontentsline{toc}{lotspecial}{#1}}

\def\tocpagebreak{\addcontentsline{toc}{pagebreak}{}}
\def\chapterpagebreak{\addcontentsline{toc}{chapterpagebreak}{}}
%\def\tocpagebreak{\tocspecial{clearpage}}
\def\lotpagebreak{\addcontentsline{toc}{lotspecial}{clearpage}}

\newif\if@appendix
\@appendixfalse
\newif\if@numberline
\@numberlinetrue

\def\notocnumber{\@numberlinefalse}

%	Zur Selektion von Bereichen des Inhaltsverzeichnisses werden
%	die Zähler SynTocChapter und SynTocSection verwendet.

\newcounter{SynTocChapter}
\newcounter{SynTocSection}

\def\Syn@NewSection{%
	\refstepcounter{section}%
	\addtocontents{toc}{\protect
		\setcounter{SynTocSection}{\arabic{section}}}%
	}

\def\NewChapter{\cleardoublepage
	\refstepcounter{section}% !! Zählerkorrektur für Unterabschnitte !!
	\refstepcounter{chapter}%
	\if@appendix
		\addtocounter{chapter}{-2}
	\fi
	\addtocontents{toc}{\protect
		\setcounter{SynTocChapter}{\arabic{chapter}}}%
	\addtocontents{toc}{\protect
		\setcounter{SynTocSection}{\arabic{section}}}%
	}

%	Zum Einfügen von Zwischenlinien wird eine Testvariable benötigt

\newif\if@needtocrule
\@needtocruletrue

\def\contentsname{Inhalt}
\def\contentsline#1{\csname l@#1\endcsname}

\def\@pnumwidth{\Syn@RasterZelle}

\def\Syn@numberline#1{\makebox[0pt][r]{\makebox[2\Syn@hunit][l]{#1}%
	\hskip\Syn@hunit}}

\def\Syn@TocNum#1{\makebox[0pt][l]{\hskip\textwidth\makebox[0pt][r]{#1}}}

\let\numberline\Syn@numberline

%	Verzeichnis der Übersichten

\newdimen\Syn@LotWidth
\Syn@LotWidth\textwidth

\def\Syn@TocNum#1{\makebox[0pt][l]{\hskip\textwidth\makebox[0pt][r]{#1}}}

\def\Syn@LotNumber#1{\TopMargin{\rm\hskip-2\Syn@hunit
	Übersicht #1}\ignorespaces}

\def\Syn@LotCNumber#1{\TopMargin{#1}\ignorespaces}

\long\def\Syn@LotTable#1#2{\vskip\baselineskip {%
	\leftskip 2\Syn@hunit \relax
	\rightskip \Syn@RasterZelle plus 2\Syn@RasterZelle \relax
	\advance\textwidth by -2\Syn@hunit
	\Syn@TocNum{#2}{\bf #1}\par}%
	\vskip\baselineskip}

\long\def\Syn@LotSubCaption#1#2{\vskip-\baselineskip {%
	\leftskip 2\Syn@hunit \relax
	\rightskip \Syn@RasterZelle plus 2\Syn@RasterZelle \relax
	#1\par}\vskip\baselineskip}

\long\def\Syn@LotChapter#1#2{%
	\vspace{\baselineskip}
	\parbox[t]{\Syn@LotWidth}{\bf
		\let\numberline\Syn@LotCNumber
		#1\\
		\settoheight{\Syn@TempDimA}{\strut}
		\hbox{}\vskip -\Syn@TempDimA
	}\hfill #2
	\newline\strut\par}

\def\listtablename{Verzeichnis der Übersichten}

\def\listoftables{\@restonecolfalse
	\if@twocolumn\@restonecoltrue\onecolumn\fi
	\clearpage
	\Syn@LotWidth\textwidth
	\advance\Syn@LotWidth by -4\Syn@hunit
	\begingroup
		\let\numberline\Syn@LotNumber
		\let\headlinebreak\\
		\parskip 0pt
		\parindent 0pt
		\let\l@chapter\Syn@LotChapter
		\let\l@table\Syn@LotTable
		\let\l@subcaption\Syn@LotSubCaption
		\paragraph{Verzeichnis\\ der Übersichten}
		\strut\vskip-2\baselineskip
  		\@input{\jobname.lot}%
	\endgroup
	\clearpage
	\if@restonecol\twocolumn\fi}

\def\listoffigures{%
	\appendix
	\Syn@LotWidth\textwidth
	\advance\Syn@LotWidth by -4\Syn@hunit
	\paragraph{Verzeichnis\\ der Übersichten}
	\vskip-\baselineskip
	\begingroup
		\let\numberline\Syn@LotNumber
		\let\headlinebreak\\
		\parskip 0pt
		\parindent 0pt
		\let\l@chapter\Syn@LotChapter
		\let\l@table\Syn@LotTable
		\let\l@subcaption\Syn@LotSubCaption
  		\@input{\jobname.lot}%
	\endgroup
	\clearpage
	}


%	Inhaltsverzeichnis

\def\tableofcontents{\@restonecolfalse
	\if@twocolumn\@restonecoltrue\onecolumn\fi
	\clearpage
	\begingroup
		\markright{\contentsname}
		\pagestyle{contents}%
		\parskip 0pt
		\parindent 0pt
  		\@input{\jobname.toc}%
		\clearpage
	\endgroup
	\if@restonecol\twocolumn\fi
}

\def\Syn@TocLine#1#2{\leavevmode \vbox to 0pt{%
	\hsize\textwidth
	\advance\hsize by #2
	\hrule height #1 width \hsize
	\vss}\par\ignorespaces}

\def\Syn@TocRule{\if@needtocrule
	\vspace{\baselineskip}
	\leavevmode\hbox to 0pt{%
	\if@numberline \hskip -\Syn@RasterZelle \fi
	\vbox to 0pt{%
	\hsize\textwidth
	\if@numberline \advance\hsize by \Syn@RasterZelle \fi
	\vskip -\baselineskip
	\hrule height \Syn@ThinLine width \hsize
	\vss}\hss}\par
	\vskip -\baselineskip
	\fi\ignorespaces}

%	Kapiteleintrag als Überschrift

\def\Syn@TocSubHead#1#2{{%
	\vspace{\baselineskip}
	\parskip=0pt
	\bf
	\let\headlinebreak\\
	\let\\\space
	\if@numberline
		\def\numberline##1{##1\headlinebreak}
	\else
		\def\numberline##1{}
	\fi
	\begin{list}{\strut}{\parsep=0pt \parskip=0pt
		\rightskip 0pt plus 2\Syn@RasterZelle
		\leftmargin=-3\Syn@RasterZelle
	 	\advance\textwidth by -\leftmargin}
	\item\relax{#1\par}\Syn@TocLine{\Syn@ThinLine}{\z@}
	\end{list}
	}\@needtocrulefalse}

\def\Syn@TocHead#1#2{\Syn@TocSubHead{\huge #1}{#2}}


\def\Syn@TocSkip#1#2{}
\def\Syn@TocSpecial#1#2{\csname#1\endcsname}

%	Haupteintrag im Inhaltsverzeichnis

\def\Syn@TocMainEntry#1#2{\vspace{\baselineskip}{%
	\parskip=0pt
	\parsep=0pt
	\bf
	\rightskip \Syn@RasterZelle plus 2\Syn@RasterZelle
	\if@numberline
		\def\numberline##1{\leavevmode\vbox to 0pt {\leftskip\z@
			\vss\hbox to 0pt {\vbox {\raggedright ##1\\~}\hss}}}
		\leftskip -3\Syn@RasterZelle
	\else
		\def\numberline##1{}
	\fi
	\vspace{\baselineskip}
	\leavevmode
	#1\hfill
	\makebox[0pt][l]{\hskip\Syn@RasterZelle\makebox[0pt][r]{#2}}%
	\parskip=0pt\par
	\rightskip 0pt plus 2\Syn@RasterZelle
	\if@appendix
		\Syn@TocLine{\Syn@ThinLine}{\z@}
	\else
		\Syn@TocLine{\Syn@ThinLine}{3\Syn@RasterZelle}
	\fi
	}\@needtocrulefalse}

\def\Syn@TocSubEntry#1#2{%
	\parskip=0pt
	\if@numberline
		\let\numberline\Syn@numberline
	\else
		\def\numberline##{}%\leftskip -\Syn@RasterZelle
	\fi
	{\rightskip\Syn@RasterZelle plus 2\Syn@RasterZelle minus \Syn@hunit
		\Syn@TocNum{#2}#1\par}%
	\@needtocruletrue}

\def\Syn@TocEntry#1#2{\Syn@TocRule{\bf\Syn@TocSubEntry{#1}{#2}}\@needtocruletrue}

\def\toclinerule{\vspace{\baselineskip}%
		\Syn@TocLine{\Syn@ThinLine}{\z@}
		\@needtocrulefalse}

\def\Syn@TocNoNumber#1#2{%
	\parskip=0pt
	\begingroup
		\def\numberline##1{}
		\rightskip \Syn@RasterZelle
			plus 2\Syn@RasterZelle minus \Syn@hunit
		\Syn@TocNum{#2}#1\par
	\endgroup
	\@needtocruletrue}

\def\Syn@TocSubCaption#1#2{%
	\parskip=0pt
	\begingroup
		\def\numberline##1{}
		\rightskip \Syn@RasterZelle
			plus 2\Syn@RasterZelle minus \Syn@hunit
		#1\par
	\endgroup
	\@needtocruletrue}

\let\l@part\Syn@TocMainEntry
\let\l@chapter\Syn@TocMainEntry
\let\l@section\Syn@TocEntry
\let\l@subsection\Syn@TocNoNumber
\let\l@subsubsection\Syn@TocSkip
\let\l@paragraph\Syn@TocNoNumber
\let\l@subparagraph\Syn@TocSkip

\ifSyn@toctabentry
	\let\l@table\Syn@TocNoNumber
\else
	\let\l@table\Syn@TocSkip
\fi
\let\l@subcaption\Syn@TocSkip
\def\l@pagebreak#1#2{\clearpage}
\let\l@chapterpagebreak\Syn@TocSkip
\let\l@special\Syn@TocSpecial
\let\l@lotspecial\Syn@TocSkip
\def\l@space#1#2{\vskip #1}

%	Formatierungsänderung für Anhang

\def\tocappendix{\@appendixtrue\@numberlinefalse
	\let\l@chapter\Syn@TocNoNumber
	\let\l@section\Syn@TocSkip
	\let\l@subsection\Syn@TocSkip
	\let\l@subsubsection\Syn@TocSkip
	\let\l@paragraph\Syn@TocNoNumber
	\let\l@subparagraph\Syn@TocNoNumber}

% ###########   Abschnittssdefinitonen   ###########

%	Abschnitt (Nicht vorgesehen)

\def\thepart{\Roman{part}}

\def\part{\cleardoublepage\secdef\@part\@spart}

\long\def\@part[#1]#2{%
	\refstepcounter{part}%
	\markleft{#1}
	\Syn@numcontentsline{toc}{part}{\thepart}{#1}
	\begin{raggedright}
	\huge\bf
	\thepart\\
	#2
	\end{raggedright}
	\cleardoublepage}

\long\def\@spart#1{%
	\begin{raggedright}
	\huge\bf
	#1
	\end{raggedright}
	\cleardoublepage}


%	Kapitel

\def\thechapter{\arabic{chapter}}

\long\def\Syn@ChapterPage#1#2{\ifchapterpage
	\thispagestyle{#2}%
	\begingroup
		\parskip 0pt
		\parindent0pt
		\@numberlinetrue
		\let\tocappendix\notocnumber
		\let\toclinerule\relax
		\let\contentsline\Syn@ccline
		\let\l@part#1	%!!!!!!!!!!!!!!!!!!!!!!!!!
		\let\l@chapter#1
		\let\l@subsection\Syn@TocSkip
		\let\l@paragraph\Syn@TocNoNumber
		\def\l@chapterpagebreak##1##2{\clearpage}
		\let\l@pagebreak\Syn@TocSkip
		\ifsectionpage
			\let\l@table\Syn@TocSkip
		\else
			\ifSyn@sectabentry
				\let\l@table\Syn@TocNoNumber
			\else
				\let\l@table\Syn@TocSkip
			\fi
		\fi
  		\@input{\jobname.toc}%
	\endgroup
	\clearpage
	\fi\ignorespaces}

\long\def\Chapter#1{\NewChapter
	\Syn@numcontentsline{toc}{chapter}{\thechapter}{#1}
%	\Syn@numcontentsline{lot}{chapter}{\thechapter}{#1}
	\if@appendix
		\markright{#1}
		\Syn@ChapterPage\Syn@TocSubHead{chapter}%
	\else
		\markright{\hbox to \Syn@hunit{\thechapter\hfill}#1}
		\Syn@ChapterPage\Syn@TocHead{chapter}%
	\fi
	}

%	Kapitel

\def\chapter{%\cleardoublepage
	\global\@topnum\z@	% Keine Floats zu Beginn
	\@afterindentfalse	% für \@afterheading
	\secdef\@chapter\@schapter}

\long\def\@chapter[#1]#2{\Chapter{#1}%
	\ifchapterpage\relax\else{%
	\vspace{\baselineskip}
	\bf
	\leftskip -3\Syn@RasterZelle
	\TopMargin{\thechapter}#2\par}\fi\@afterheading}

\long\def\@schapter#1{{\huge\bf#1\par}\@afterheading}


%	Bereich

\def\thesection{\ifnum \value{chapter} > 0\relax
        \thechapter.\arabic{section}\else
        \arabic{section}\fi}

\def\Syn@tcline#1#2#3{%
	\if@appendix
		\csname l@#1\endcsname{#2}{#3}
	\fi}

\def\Syn@ccline#1#2#3{%
	\ifnum\value{chapter}=\value{SynTocChapter}
		\csname l@#1\endcsname{#2}{#3}
	\fi}

\def\Syn@scline#1#2#3{%
	\ifnum\value{chapter}=\value{SynTocChapter}
		\ifnum\value{section}=\value{SynTocSection}
			\csname l@#1\endcsname{#2}{#3}
		\fi
	\fi}

\long\def\Section#1{%
	\ifsectionpage\cleardoublepage\else\par\fi
	\Syn@NewSection
	\Syn@numcontentsline{toc}{section}{\thesection}{#1}
	\ifsectionpage
%	\thispagestyle{plain}
	\begingroup
		\parskip 0pt
		\parindent0pt
		\let\contentsline\Syn@scline
		\let\toclinerule\relax
		\let\l@section\Syn@TocSubHead
		\ifSyn@sectabentry
			\let\l@table\Syn@TocNoNumber
		\else
			\let\l@table\Syn@TocSkip
		\fi
  		\@input{\jobname.toc}%
	\endgroup
	\clearpage
	\fi\ignorespaces}

\def\section{%\cleardoublepage
	\global\@topnum\z@	% Keine Floats zu Beginn
	\@afterindentfalse	% für \@afterheading
	\secdef\@section\@ssection}

\long\def\@section[#1]#2{\Section{#1}%
	\ifsectionpage\relax\else{%
	\vspace{\baselineskip}
	\bf
	\leftskip -3\Syn@RasterZelle
	\TopMargin{\thesection}#2\par}\fi\@afterheading}
\long\def\@ssection#1{{\bf#1\par}\@afterheading}


%	Unterabschnitt

\def\thesubsection{\ifnum \value{section} > 0\relax
        \arabic{section}.\arabic{subsection}\else
       	\thechapter.\arabic{subsection}\fi}

\def\subsection{\secdef\@subsection\@ssubsection}

\def\@subsection[#1]#2{\refstepcounter{subsection}%
	\Syn@addcontentsline{toc}{subsection}{#1}
	{\bf #2\par}}

\def\@ssubsection#1{{\bf #1\par}}

%	Unterunterabschnitt

\def\subsubsection{\secdef\@subsubsection\@ssubsubsection}

\def\@subsubsection[#1]#2{\refstepcounter{subsubsection}%
	\Syn@addcontentsline{toc}{subsubsection}{#1}
	#2\par}

\def\@ssubsubsection#1{#1\par}

%	Paragraph

\def\paragraph{\secdef\@paragraph\@sparagraph}

\def\@paragraph[#1]#2{\refstepcounter{paragraph}%
	\Syn@addcontentsline{toc}{paragraph}{#1}
	\Syn@Randnotiz{0}{0}{\bf #2}\ignorespaces}

\def\@sparagraph#1{\Syn@Randnotiz{0}{0}{\bf #1}\ignorespaces}

%	UnterParagraph

\def\subparagraph{\secdef\@subparagraph\@ssubparagraph}

\def\@subparagraph[#1]#2{\refstepcounter{subparagraph}%
	\Syn@addcontentsline{toc}{subparagraph}{#1}
	\Syn@Randnotiz{0}{0}{\footnotesize\bf #2}\ignorespaces}

\def\@sparagraph#1{\Syn@Randnotiz{0}{0}{\footnotesize\bf #1}\ignorespaces}


%	Anhang

\def\appchapter{\cleardoublepage
	\refstepcounter{section}% !! Zählerkorrektur für Unterabschnitte !!
	\refstepcounter{chapter}%
	\setcounter{chapter}{0}%
	\addtocontents{toc}{\protect\setcounter{SynTocChapter}{0}}%
	\addtocontents{toc}{\protect\setcounter{SynTocSection}{0}}%
	\markright{\Syn@title}%
	\secdef\@appchapter\@sappchapter}

\def\@appchapter[#1]#2{\refstepcounter{chapter}%
	\Syn@addcontentsline{toc}{chapter}{#1}
	\Syn@Randnotiz{0}{0}{\bf #2}\ignorespaces}

\def\@sappchapter#1{\Syn@Randnotiz{0}{0}{\bf #1}\ignorespaces}

\renewcommand\appendix[1][\Syn@title]{\cleardoublepage
	\if@appendix\else
		\addtocontents{toc}{\protect\tocappendix}%
	\fi
	\setcounter{section}{0}%
	\setcounter{chapter}{0}%
	\addtocontents{toc}{\protect\setcounter{SynTocChapter}{0}}%
	\addtocontents{toc}{\protect\setcounter{SynTocSection}{0}}%
	\markright{#1}%
	\sectionpagefalse
	\if@appendix
	\else
		\Syn@addcontentsline{toc}{part}{Anhang}%
		\thispagestyle{appendix}%
		\begingroup
			\parskip 0pt
			\parindent0pt
			\@numberlinetrue
			\let\toclinerule\relax
			\let\contentsline\Syn@tcline
			\let\l@part\Syn@TocSubHead
			\let\l@chapter\Syn@TocNoNumber
			\let\l@section\Syn@TocSkip
			\let\l@subsection\Syn@TocSkip
			\let\l@paragraph\Syn@TocSkip
%			\def\l@chapterpagebreak##1##2{\clearpage}
			\let\l@pagebreak\Syn@TocSkip
			\let\l@table\Syn@TocSkip
			\@input{\jobname.toc}%
		\endgroup
		\clearpage
	\fi
	\@appendixtrue
	\ignorespaces}


% ###########   Kopf und Fußzeilen   ###########

%	Achtung: Kopf und Fußzeilenpositionierung ist unabhängig von
%	der Textbreite und der Randeinstellung!

\def\Syn@foot{%
	\hskip-\evensidemargin
	\hskip\Syn@Mitte\Syn@RasterZelle
	\parskip=0pt
	\Syn@Balken{2\Syn@hunit}\fboxrule
	\footnotesize\bf
	\makebox[2\Syn@hunit][l]{\thepage}\hss}

\def\Syn@pagefoot{%
	\let\@evenfoot\Syn@foot
	\let\@oddfoot\Syn@foot}

\def\Syn@emptyfoot{%
	\let\@evenfoot\relax
	\let\@oddfoot\relax}

\def\Syn@headmark{~}
\def\HeadMark#1{\def\Syn@headmark{#1}}

%	Synthesis - Kopfzeile

%\newtoks\Syn@HeadHook
\def\Syn@HeadHook{\strut}%

\def\Syn@KopfZeile#1#2{\hss \vbox to \headheight {\parskip=0pt
	\Syn@TempDimA=\Syn@Mitte\Syn@RasterZelle
	\advance\Syn@TempDimA by -3\Syn@RasterZelle
	\hsize=\Syn@Spalten\Syn@RasterZelle
	\advance\hsize by -\Syn@hunit
	\advance\hsize by -\Syn@TempDimA
	\footnotesize
	\def\\{\ }
	\hrule height \fboxrule
	\vss
	\strut\Syn@HeadHook\makebox[3\Syn@RasterZelle][l]{#1}#2\vss
	\hrule height 0pt}}

%	Kopfzeilendefinitionen

\def\Syn@oddhead#1{\hss \vbox to \headheight {\parskip=0pt
	\leftskip\z@
	\Syn@TempDimA=\Syn@Mitte\Syn@RasterZelle
	\advance\Syn@TempDimA by -3\Syn@RasterZelle
	\hsize=\Syn@Spalten\Syn@RasterZelle
	\advance\hsize by -\Syn@hunit
	\advance\hsize by -\Syn@TempDimA
	\footnotesize
	\def\\{\ }
	\hrule height \fboxrule
	\vss
	\rightskip\z@ minus \Syn@RasterZelle\relax
	\strut\Syn@HeadHook\makebox[3\Syn@RasterZelle][l]\Syn@headmark#1\vss
	\hrule height 0pt}}

\def\Syn@evenhead#1{\Syn@oddhead{#1}}

\def\Syn@pagehead{%
	\def\@evenhead{\Syn@evenhead{\rightmark}}
	\def\@oddhead{\Syn@oddhead{\rightmark}}}

\def\Syn@emptyhead{%
	\def\@evenhead{\Syn@evenhead{}}
	\def\@oddhead{\Syn@oddhead{}}}

\let\@mkboth\markboth

\def\ps@plain{\Syn@pagehead\Syn@emptyfoot}
\def\ps@headings{\Syn@pagehead\Syn@pagefoot}
\def\ps@contents{\Syn@pagehead\Syn@emptyfoot}
\def\ps@appendix{\Syn@emptyhead\Syn@pagefoot}
\let\ps@numheadings\ps@headings
\let\ps@special\ps@headings


\def\ps@chapter{%
	\def\@evenhead{\Syn@evenhead{\Syn@title}}
	\def\@oddhead{\Syn@oddhead{\Syn@title}}
	\Syn@pagefoot}

\pagestyle{headings}


% ###########   Titelseite   ###########

\def\Syn@titlemark{X.XXX.XX}
\def\Syn@titlehead{XXXXX}
%\def\@date{\today}
%\def\date#1{\def\@date{#1}}

\def\thedate{\@date}

\newcommand{\Titelkopf}[2][\@date]{%
	\def\Syn@titlemark{#1}
	\def\Syn@titlehead{#2}
	\markboth{\Syn@titlehead}{\Syn@titlehead}
	\ignorespaces}

\def\ps@title{\let\@mkboth\markboth
	\def\@evenhead{\Syn@KopfZeile{\Syn@titlemark}{\Syn@titlehead}}
	\let\@oddhead\@evenhead
	\Syn@emptyfoot}

\def\Syn@title{XXXXX}
\def\Syn@subtitle{XXXXX}
\def\Syn@author{XXXXX}
\def\Syn@notice{~}
\def\Syn@logo{~}
\def\Syn@address{XXXXXX\\XXXXX XXX\\XXX-XXX XXXXXX\\Telefon XXX}

\def\Titel#1#2{%
	\def\Syn@title{#1}
	\def\Syn@subtitle{#2}
	\markboth{\Syn@title}{\Syn@title}}

\def\Logo#1{\def\Syn@logo{#1}}
\def\Autor#1{\def\Syn@author{#1}}
\def\Anmerkung#1{\def\Syn@notice{#1}}
\long\def\Adresse#1{\long\def\Syn@address{#1}}

%	ACHTUNG: Die Verwendung von \vfill bewirkt eine Unterlänge
%	in der letzten Zeile und damit eine falsche Positionierung.
%	Daher extra Leerzeile am Ende und Korrektur mit \@textbottom.

\long\def\maketitle{%
\ifnum \Syn@ntitlepage>0\relax {%
	\clearpage
	\parskip\baselineskip
	\def\@textbottom{\vskip-1\baselineskip}
	\if@twoside \setcounter{page}{-1}
	\else \setcounter{page}{0}
	\fi
	\thispagestyle{title}
	\raggedright
	\vtop to 0pt {%
		\raggedright
%		\FlatterRand{3}{0.5}
		\leavevmode\hbox to 0pt {\hss \vtop to \z@ {%
		\hsize=6\Syn@RasterZelle
		\strut\vskip-2\baselineskip
		\Syn@logo\par\vss}}%
		{\huge\bf\Syn@title\par}
		\strut\Syn@subtitle\\
		\vss
	}\par
	\vskip11\baselineskip
	{\bf\Syn@author\\}\vfill
	{\huge\Syn@notice\par}
	\vskip 2\baselineskip
	\Syn@address\\~
	\ifnum \Syn@ntitlepage>1\relax
		\cleardoublepage
		\thispagestyle{title}
		\raggedright
	%	\FlatterRand{3}{0.5}
		{\huge\bf\Syn@title\par}
		\strut\Syn@subtitle\\
		\clearpage
	\fi
	\clearpage}%
%\else
%	{\huge\bf\Syn@title\par}
%	\strut\Syn@subtitle\par
\fi}

% ###########   Vorwort   ###########

\def\ps@vorwort{\let\@mkboth\markboth
	\def\@evenhead{\Syn@KopfZeile{~}{Vorwort}}
	\let\@oddhead\@evenhead
	\Syn@emptyfoot}

\newenvironment{Vorwort}{\cleardoublepage\pagestyle{vorwort}}{\clearpage}

%	Index

\input{syngidx.sty}
\def\indexname{Index}

\renewenvironment{theindex}{%
%	\cleardoublepage
%	\markright{\indexname}
%	\markright{\Syn@title}
%	\Paragraph{\indexname}
	\appendix[\indexname]
	\paragraph{\indexname}
	\vspace{-\baselineskip}
	\parindent\z@
	\parskip\z@
	\let\item\@idxitem}{\clearpage}

%\newcommand{\@idxitem}  {\par\hangindent 40\p@}
%\newcommand{\subitem}   {\par\hangindent 40\p@ \hspace*{20\p@}}
%\newcommand{\subsubitem}{\par\hangindent 40\p@ \hspace*{30\p@}}
%\newcommand{\indexspace}{\par \vskip 10\p@ \@plus5\p@ \@minus3\p@\relax}
\renewcommand{\@idxitem}{\par}
\renewcommand{\subitem}{\par\hspace*{2\Syn@hunit}}
\renewcommand{\subsubitem}{\par\hspace*{4\Syn@hunit}}
\renewcommand{\indexspace}{\par\vskip\baselineskip}

%	Literaturverzeichnis

\def\bibname{Literatur}
\def\bibindent{2\Syn@hunit}
\def\@biblabel#1{[#1]\hfill}

\newcommand{\Syn@bibitem}[1][XX]{#1}

\renewenvironment{thebibliography}[1]
	{%\markright{\bibname}
		\paragraph{\bibname}
		\vspace{-\baselineskip}
		\list{\@biblabel{\arabic{enumiv}}}%
			{%
			\settowidth\labelwidth{\@biblabel{#1}}%
			\labelsep\leftmargin
			\advance\labelsep by -\labelwidth
			\usecounter{enumiv}%
			\let\p@enumiv\@empty
			\renewcommand{\theenumiv}{\arabic{enumiv}}%
			\itemsep=\z@
			\partopsep-\baselineskip
			\topsep-\baselineskip
			}%
		\renewcommand{\newblock}{\par}
		\sloppy\clubpenalty4000\widowpenalty4000%
		\sfcode`\.=\@m}
	{\def\@noitemerr
		{\@latex@warning{Empty `thebibliography' environment}}%
		\endlist}

% ###########   Impressum   ###########

\def\ps@impressum{\let\@mkboth\markboth
	\def\@evenhead{\Syn@KopfZeile{~}{\Syn@title}}
	\let\@oddhead\@evenhead
	\Syn@pagefoot}

\newenvironment{Impressum}{\cleardoublepage
	\paragraph{Impressum}\ignorespaces}
	{\cleardoublepage}


% ###########   Hilfsmacros   ###########

\def\getinclist#1{\typeout{}\typein[\@inclist]{#1}%
\ifx\@inclist\empty\relax\else\includeonly{\@inclist}\fi}

\def\vboxkorr#1{%
	\par
	\leavevmode
	\vskip -\baselineskip
	\settoheight{\Syn@TempDimA}{#1}
	\vskip -\Syn@TempDimA
}

\def\cleardoublepage{\clearpage
	\if@twoside \ifodd\c@page
	\else
		\thispagestyle{empty}%
		\hbox{}\newpage
		\if@twocolumn\hbox{}\newpage\fi
	\fi\fi}

\newcount\Syn@RepCount

\def\Repeat#1#2{\Syn@RepCount=#1\loop
	\ifnum\Syn@RepCount>0
	#2\advance\Syn@RepCount by \m@ne
	\repeat}

%	Tabellen

\input{syntab.sty}

%	Handbucheinträge

\def\man@sec{0}

\newcommand{\manchapter}[2][1]{%
	\NewChapter
	\Syn@addcontentsline{toc}{chapter}{#2 (#1)}
	\markright{#2 (#1)}
	\def\man@sec{#1}
	\Syn@ChapterPage\Syn@TocSubHead{chapter}}

\newenvironment{manpage}[2][\man@sec]{%
	\cleardoublepage
	\markright{#2(#1)}%
	\Syn@addcontentsline{toc}{section}{#2(#1)}
	\begin{list}{\strut}{%
		\leftmargin=3\Syn@RasterZelle
		\advance\leftmargin by -\evensidemargin
		\Syn@textwidth=\textwidth
		\advance\Syn@textwidth by -\leftmargin
		}%
	\item\relax%
	}{\end{list}}

\newcommand{\manhead}[2][0]{\Syn@Randnotiz{0}{#1}{\bf#2~~}}
\newcommand{\mansubhead}[2][0]{\Syn@Randnotiz{0}{#1}{\bf#2~~}}

/*	Kopfinitialisierung für SGML
	(c) 1999 Erich Frühstück
	A-3423 St.Andrä/Wördern, Südtirolergasse 17-21/5
*/

class =	(style && style != "article") ? 1 : 0;
FileStat fstat = FileStat(DocName);

plain << "<!doctype linuxdoc system>\n";
plain << (class ? "<report>\n" : "<article>\n");
plain << "<title>";

if	(title)	plain << title;
else if	(fstat)	fprintf(cout, "Datei: %s", fstat.path);
else		fpsub(cout, "$!: Standardeingabe");

plain << "</title>\n";
plain << "<author>";

if	(author)
{
	plain << author;
}
else if	(fstat)
{
	passwd pw = passwd(fstat.uid);
	fprintf(cout, "Eigentümer: %s (%s)", pw.name, pw.gecos);
}
else
{
	passwd pw = passwd(getuid());
	fprintf(cout, "Operator: %s (%s)", pw.name, pw.gecos);
}

plain << "</author>\n";
plain << "<date>";

if	(date)	plain << date;
else if	(fstat)	fstat.mtime.print(cout, "Letzte Änderung: %-d. %b %Y %H:%M");
else		today().print(cout, "%B %Y");

plain << "</date>\n";
plain << "<abstract>\n";

if	(subtitle)	plain << subtitle;
else			plain << "&nbsp;";

plain << "\n</abstract>\n";
plain << "<!-- Beginn des Dokuments -->\n";

/*
:*:	EFEU basic libraries and commands
:de:	EFEU-Basisbibliotheken und programe
*/

#include <d2m.cfg>

TOPDIR = _EFEU_TOP
BINDIR = $(TOPDIR)/bin
LIBDIR = $(TOPDIR)/lib
APPDIR = $(TOPDIR)/lib/efeu
DOCDIR = $(TOPDIR)/doc

DIR2MAKE = dir2make -B $(BINDIR) -L $(LIBDIR) -A $(APPDIR) -D $(DOCDIR)

BaseInc = -H $(TOPDIR)/include/EFEU
MathInc = -H $(TOPDIR)/include/Math

#if	LANG_de
SubMake(script,"Shell-Scripts",pgm/script,NullArg,NullArg)
#else
SubMake(script,"shell scripts",pgm/script,NullArg,NullArg)
#endif

#if	LANG_de
SubMake(efm,"Basisbibliothek",lib/efm,$(BaseInc) -lefm,NullArg)
SubMake(iorl,"Readline-Schnittstelle",lib/iorl,$(BaseInc) -liorl,efm)
SubMake(efx,"Erweiterungsbibliothek",lib/efx,$(BaseInc) -lefx,efm)
SubMake(md,"Datenmatrix",lib/md,$(BaseInc) -lmd,efm efx)
SubMake(efwin,"Fensterhilfsprogramme",lib/win,$(BaseInc) -l efwin,efm efx)
SubMake(efmath,"Mathematische Hilfsfunktionen",lib/math,$(MathInc) -lefmath,efm efx)
#else
SubMake(efm,"basic libraries",lib/efm,$(BaseInc) -lefm,NullArg)
SubMake(iorl,"readline interface",lib/iorl,$(BaseInc) -liorl,efm)
SubMake(efx,"extension library",lib/efx,$(BaseInc) -lefx,efm)
SubMake(md,"data cube library",lib/md,$(BaseInc) -lmd,efm efx)
SubMake(efwin,"curses tools",lib/win,$(BaseInc) -l efwin,efm efx)
SubMake(efmath,"mathematican functions",lib/math,$(MathInc) -lefmath,efm efx)
#endif

BASELIB=	efm efx md efmath iorl

#if	LANG_de
SubMake(tools,"Einfache Hilfsprogramme",pgm/tools,NullArg,$(BASELIB))
SubMake(esh,"esh, mksource und Scripts",pgm/esh,NullArg,$(BASELIB))
SubMake(eis,"EFEU-Informationssystem",pgm/eis,NullArg,$(BASELIB))
SubMake(doc,"Dokumentgenerator",pgm/doc,NullArg,$(BASELIB))
SubMakeRule(man,"Handbücher zu den Programmbiblitheken",man,doc,dir2make)
#else
SubMake(tools,"simple tools",pgm/tools,NullArg,$(BASELIB))
SubMake(esh,"esh, mksource and scripts",pgm/esh,NullArg,$(BASELIB))
SubMake(eis,"EFEU-information system",pgm/eis,NullArg,$(BASELIB))
SubMake(doc,"document generator",pgm/doc,NullArg,$(BASELIB))
SubMakeRule(man,"manpages to the libraries",man,doc,dir2make)
#endif

BIN=	$(EFEUTOP)/bin
EN_MAN=	$(EFEUTOP)/man/man1
DE_MAN=	$(EFEUTOP)/man/de/man1

ProvideDir($(EN_MAN))
ProvideDir($(DE_MAN))

#ifndef Target
#define Target(x)       AllTarget(x)@;x
#endif

#if	_AIX
#define	CompressedManpage	0
#else
#define	CompressedManpage	1
#endif

#if	CompressedManpage
#define	CreateManualPage(name,dir,lang)	\
Target(PathName(dir,Concat(name,.1.gz))): PathName($(BIN),name)	\
@;@+Concat(LANG=,lang) name --help=man | gzip > $@ \
@;
#else
#define	CreateManualPage(name,dir,lang)	\
Target(PathName(dir,Concat(name,.1))): PathName($(BIN),name)	\
@;@+Concat(LANG=,lang) name --help=man > $@ \
@;
#endif

#define	ManualTarget(cmd)	\
CreateManualPage(cmd,$(EN_MAN),en)	\
CreateManualPage(cmd,$(DE_MAN),de)	\
@;

ManualTarget(binedit)
ManualTarget(ccmkmf)
ManualTarget(dir2make)
ManualTarget(dircmp)
ManualTarget(dircpy)
ManualTarget(edf)
ManualTarget(efeu-magic)
ManualTarget(efeu-xlib)
ManualTarget(efeuconfig)
ManualTarget(efeubuild)
ManualTarget(efeucc)
ManualTarget(efeudoc)
ManualTarget(efeugen)
ManualTarget(efeuscript)
ManualTarget(efeutop)
ManualTarget(efile)
ManualTarget(eis)
ManualTarget(eis-cgi)
ManualTarget(esh)
ManualTarget(findgrep)
ManualTarget(globcvs)
ManualTarget(htmlindex)
ManualTarget(mdcat)
ManualTarget(mdcmp)
ManualTarget(mdcreate)
ManualTarget(mddiag)
ManualTarget(mddiff)
ManualTarget(mdfile)
ManualTarget(mdfunc)
ManualTarget(mdmul)
ManualTarget(mdpaste)
ManualTarget(mdpermut)
ManualTarget(mdprint)
ManualTarget(mdread)
ManualTarget(mdround)
ManualTarget(mdselect)
ManualTarget(mdsum)
ManualTarget(mdterm)
ManualTarget(mkdump)
ManualTarget(mkmf)
ManualTarget(mksource)
ManualTarget(mksrclist)
ManualTarget(msc)
ManualTarget(mvi)
ManualTarget(pp2dep)
ManualTarget(ppfilter)
ManualTarget(sc2md)
ManualTarget(src2doc)
ManualTarget(tex2ps)
ManualTarget(unblock)
ManualTarget(undump)
ManualTarget(zip2gz)
